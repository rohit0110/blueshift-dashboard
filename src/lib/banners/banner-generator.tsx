import { ImageResponse } from "next/og";
import { createTranslator } from "next-intl";

import { CourseMetadata, LessonMetadata } from "@/app/utils/course";
import { getCourse, getChallenge } from "@/app/utils/content";
import { ChallengeMetadata } from "@/app/utils/challenges";

export interface GeneratedBannerData {
  data: ArrayBuffer;
  contentType: string;
  width: number;
  height: number;
}

type BannerableItem = CourseMetadata | ChallengeMetadata;

interface GenerateBannerDataParams {
  itemSlug: string;
  type: "course" | "challenge";
  lessonSlug?: string;
  locale?: string;
}

export const generateBannerData = async ({
  itemSlug,
  type,
  lessonSlug,
  locale = "en",
}: GenerateBannerDataParams): Promise<GeneratedBannerData | null> => {
  try {
    let item: BannerableItem | undefined;
    if (type === "course") {
      item = await getCourse(itemSlug);
    } else {
      item = await getChallenge(itemSlug);
    }

    if (!item) {
      console.warn(
        `[BannerGenerator] ${type} '${itemSlug}' not found. Skipping banner generation.`
      );
      return null;
    }

    let lessonMetaData;
    if (lessonSlug && "lessons" in item && Array.isArray(item.lessons)) {
      lessonMetaData = item.lessons.find(
        (l: LessonMetadata) => l.slug === lessonSlug
      );
      if (!lessonMetaData) {
        console.warn(
          `[BannerGenerator] Lesson slug '${lessonSlug}' not found in ${type} '${itemSlug}' lessons metadata. Skipping banner for this lesson.`
        );
        return null;
      }
    }

    const messages = await import(`@/../messages/${locale}/${type}s.json`);
    const t = createTranslator({ locale, messages });

    const itemTitle = t(`${type}s.${itemSlug}.title`);
    const lessonTitle =
      lessonSlug && "lessons" in item
        ? t(`${type}s.${itemSlug}.lessons.${lessonSlug}`)
        : null;
    const title = lessonTitle ? `${itemTitle} - ${lessonTitle}` : itemTitle;

    const language: string = item.language.toLowerCase();

    const getLanguageColor = (opacity: number = 1) => {
      switch (language) {
        case "anchor":
          return `rgba(221, 234, 224, ${opacity})`;
        case "rust":
          return `rgba(255, 173, 102, ${opacity})`;
        case "typescript":
          return `rgba(105, 162, 241, ${opacity})`;
        case "assembly":
          return `rgba(140, 255, 102, ${opacity})`;
        case "general":
          return `rgba(0, 255, 255, ${opacity})`;
        default:
          return `rgba(0, 255, 255, ${opacity})`;
      }
    };

    // Define the Weight type based on the expected values for fonts
    type FontWeight = 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900;
    type FontStyle = "normal" | "italic";

    const imageResponseOptions: {
      width: number;
      height: number;
      fonts: {
        name: string;
        data: ArrayBuffer;
        style: FontStyle;
        weight: FontWeight;
      }[];
    } = {
      width: 1200,
      height: 630,
      fonts: [
        {
          name: "Funnel Display",
          data: await loadGoogleFont("Funnel Display", title),
          style: "normal",
          weight: 500,
        },
      ],
    };

    const imageResponse = new ImageResponse(
      (
        <div
          style={{
            background: `linear-gradient(to bottom, transparent 50%, ${getLanguageColor(0.08)} 110%), linear-gradient(to bottom, #0B0E14, #0B0E14)`,
            height: "100%",
            width: "100%",
            padding: "64px 72px",
            display: "flex",
            flexDirection: "column",
            alignItems: "flex-start",
            justifyContent: "space-between",
          }}
        >
          <svg
            width="1200"
            height="630"
            viewBox="0 0 1200 630"
            fill="none"
            style={{
              position: "absolute",
              top: 0,
              left: 0,
              transform: "scale(1.45)",
              backdropFilter: "blur(10px)",
              zIndex: 1,
            }}
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_394_223)">
              <mask
                id="mask0_394_223"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="1200"
                height="630"
              >
                <rect
                  y="0"
                  width="1200"
                  height="630"
                  fill="url(#paint0_radial_394_223)"
                />
              </mask>
              <g mask="url(#mask0_394_223)">
                <path
                  d="M68.5 0L68.5 630M144.5 0L144.5 630M220.5 0L220.5 630M296.5 0L296.5 630M372.5 0L372.5 630M448.5 0L448.5 630M524.5 0V630M600.5 0V630M676.5 0V630M752.5 0V630M828.5 0V630M904.5 0V630M980.5 0V630M1056.5 0V630M1132.5 0V630M0 48.5L1200 48.5001M0 124.5L1200 124.5M0 200.5L1200 200.5M0 276.5L1200 276.5M0 352.5L1200 352.501M0 428.501L1200 428.501M0 504.501L1200 504.501M0 580.501L1200 580.501"
                  stroke={getLanguageColor(0.15)}
                  strokeWidth="1"
                />
              </g>
            </g>
            <defs>
              <radialGradient
                id="paint0_radial_394_223"
                cx="0"
                cy="0"
                r="1"
                gradientUnits="userSpaceOnUse"
                gradientTransform="translate(600 242.5) rotate(90) scale(237.5 558.628)"
              >
                <stop stopColor="#D9D9D9" />
                <stop offset="1" stopColor="#737373" stopOpacity="0" />
              </radialGradient>
              <clipPath id="clip0_394_223">
                <rect
                  width="1200"
                  height="630"
                  fill="white"
                  transform="translate(0.125)"
                />
              </clipPath>
            </defs>
          </svg>

          <svg
            width="260"
            height="36"
            viewBox="0 0 260 36"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g>
              <path
                d="M76.7402 10.908C75.0002 9.804 72.9002 9.264 70.4402 9.264C68.4962 9.264 66.8282 9.624 65.4242 10.356C64.0202 11.088 62.9402 12.132 62.1722 13.512H62.0041V0H55.6201V29.1H52.4521V36H59.0041V31.368H60.8041C61.6921 32.856 62.8921 33.996 64.4041 34.8C65.9161 35.604 67.7522 36 69.8882 36C72.5402 36 74.7842 35.448 76.5962 34.356C78.4082 33.252 79.7881 31.704 80.7361 29.688C81.6841 27.672 82.1521 25.32 82.1521 22.632C82.1521 19.944 81.6842 17.556 80.7602 15.564C79.8362 13.56 78.4921 12.012 76.7521 10.92L76.7402 10.908ZM73.9802 28.392C72.7922 29.772 71.0402 30.468 68.7242 30.468C66.6962 30.468 65.0642 29.892 63.8402 28.728C62.6162 27.576 61.9921 25.992 61.9921 23.988V21.24C61.9921 19.236 62.6042 17.664 63.8402 16.5C65.0642 15.348 66.6962 14.76 68.7242 14.76C71.0402 14.76 72.7922 15.456 73.9802 16.836C75.1682 18.228 75.7562 20.148 75.7562 22.596C75.7562 25.044 75.1682 26.976 73.9802 28.356V28.392ZM86.1002 0H92.4842V36H86.1002V0ZM122.268 9.816H115.884V24.132C115.884 26.1 115.308 27.636 114.168 28.716C113.028 29.796 111.384 30.348 109.236 30.348C107.208 30.348 105.684 29.844 104.652 28.824C103.62 27.804 103.104 26.304 103.104 24.3V9.816H96.7201V25.584C96.7201 28.788 97.6682 31.32 99.5642 33.192C101.46 35.064 104.172 36 107.688 36C109.968 36 111.864 35.604 113.364 34.824C114.864 34.044 116.112 32.904 117.12 31.416H118.92V36H125.472V29.148H122.256V9.816H122.268ZM146.292 10.776C144.408 9.768 142.152 9.252 139.524 9.252C136.896 9.252 134.496 9.792 132.492 10.86C130.488 11.928 128.952 13.464 127.86 15.444C126.768 17.424 126.228 19.8 126.228 22.536C126.228 25.272 126.78 27.66 127.872 29.676C128.976 31.692 130.536 33.252 132.564 34.344C134.592 35.448 136.992 35.988 139.764 35.988C143.052 35.988 145.764 35.22 147.924 33.696C150.084 32.172 151.464 30.048 152.064 27.336H145.632C145.236 28.512 144.54 29.388 143.556 29.976C142.572 30.564 141.288 30.852 139.716 30.852C137.604 30.852 135.912 30.276 134.64 29.112C133.368 27.96 132.612 26.292 132.384 24.12H152.184V21.888C152.184 19.284 151.668 17.04 150.636 15.144C149.604 13.248 148.152 11.784 146.268 10.776H146.292ZM132.54 19.8C132.936 18.06 133.74 16.716 134.94 15.768C136.14 14.82 137.664 14.352 139.524 14.352C141.384 14.352 142.908 14.82 144.024 15.744C145.14 16.668 145.824 18.024 146.076 19.8H132.528H132.54ZM171.528 20.316L165.744 19.2C164.688 18.996 163.92 18.696 163.428 18.3C162.948 17.904 162.696 17.376 162.696 16.716C162.696 15.828 163.08 15.156 163.848 14.7C164.616 14.244 165.732 14.016 167.196 14.016C168.828 14.016 170.076 14.304 170.952 14.892C171.828 15.48 172.416 16.416 172.728 17.7H178.896C178.668 15.012 177.564 12.936 175.572 11.46C173.58 9.984 170.904 9.252 167.532 9.252C164.16 9.252 161.52 9.972 159.6 11.412C157.68 12.852 156.732 14.796 156.732 17.22C156.732 20.988 159.252 23.364 164.28 24.336L169.932 25.404C171.108 25.632 171.936 25.956 172.44 26.388C172.944 26.82 173.184 27.42 173.184 28.188C173.184 30.108 171.54 31.056 168.252 31.056C166.308 31.056 164.82 30.732 163.8 30.096C162.768 29.448 162.156 28.464 161.952 27.12H155.736C155.904 29.916 157.068 32.1 159.204 33.66C161.352 35.22 164.28 36 167.988 36C171.696 36 174.348 35.268 176.256 33.816C178.176 32.364 179.124 30.336 179.124 27.732C179.124 25.704 178.512 24.084 177.276 22.884C176.052 21.684 174.12 20.832 171.492 20.316H171.528ZM197.76 9.816C195.816 9.816 194.136 10.176 192.708 10.908C191.28 11.64 190.152 12.696 189.324 14.1H189.156V0H182.772V36H189.156V21.684C189.156 19.656 189.696 18.108 190.788 17.052C191.868 15.996 193.464 15.468 195.54 15.468C197.616 15.468 199.212 15.996 200.292 17.052C201.372 18.108 201.924 19.656 201.924 21.684V36H208.308V20.484C208.308 17.256 207.36 14.676 205.464 12.732C203.568 10.788 201 9.816 197.772 9.816H197.76ZM215.16 0.252C214.164 0.252 213.312 0.6 212.616 1.308C211.92 2.004 211.56 2.856 211.56 3.864C211.56 4.872 211.908 5.712 212.616 6.42C213.312 7.116 214.164 7.464 215.16 7.464C216.156 7.464 217.008 7.116 217.704 6.42C218.4 5.724 218.76 4.872 218.76 3.864C218.76 2.856 218.412 2.016 217.704 1.308C217.008 0.612 216.156 0.252 215.16 0.252ZM211.992 10.284H218.376V36H211.992V10.284ZM227.916 1.284C226.956 2.136 226.476 3.468 226.476 5.268V10.284H221.628V15.252H226.428V36H232.812V15.252H238.68V10.284H232.728V4.968H239.196V0H231.912C230.196 0 228.864 0.432 227.904 1.284H227.916ZM253.08 30.996V15.288H259.2V10.32H252.996V2.604H246.744V10.308H242.16V15.276H246.696V30.816C246.696 32.556 247.164 33.852 248.088 34.716C249.012 35.568 250.32 36 252 36H259.788V30.996H253.068H253.08Z"
                fill="#EFF1F6"
              />
              <path
                d="M22.2001 28.8H29.4001V36H22.2001V28.8ZM29.4001 21.6H36.6001V28.8H29.4001V21.6ZM36.6001 14.4H43.8001V21.6H36.6001V14.4ZM29.4001 7.2H36.6001V14.4H29.4001V7.2ZM22.2001 0H29.4001V7.2H22.2001V0ZM0.600098 28.8H7.8001V36H0.600098V28.8ZM7.8001 21.6H15.0001V28.8H7.8001V21.6ZM15.0001 14.4H22.2001V21.6H15.0001V14.4ZM7.8001 7.2H15.0001V14.4H7.8001V7.2ZM0.600098 0H7.8001V7.2H0.600098V0Z"
                fill="#00FFFF"
              />
            </g>
          </svg>
          {/* Language badge */}
          <div
            style={{
              display: "flex",
              flexDirection: "column",
              alignItems: "flex-start",
              justifyContent: "space-between",
              rowGap: "36px",
            }}
          >
            <svg
              width="254"
              height="176"
              viewBox="0 0 254 176"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              style={{ transform: "translateX(-10px)" }}
            >
              <g filter="url(#filter0_d_379_158)">
                <rect
                  width="87.7705"
                  height="18.2855"
                  transform="matrix(0.866025 0.5 0 1 25.3359 87.7693)"
                  fill="#ADB9D2"
                  fill-opacity="0.08"
                />
                <rect
                  width="87.7705"
                  height="18.2855"
                  transform="matrix(0.866025 -0.5 0 1 152.022 131.655)"
                  fill="#ADB9D2"
                  fill-opacity="0.08"
                />
                <path
                  d="M14.8408 73.1414C14.8408 78.8541 18.8515 84.026 25.3358 87.7698V106.055C18.8515 102.312 14.8408 97.1396 14.8408 91.4269V73.1414Z"
                  fill="#ADB9D2"
                  fill-opacity="0.08"
                />
                <path
                  d="M101.349 131.655C115.342 139.734 138.03 139.734 152.023 131.655V149.941C138.03 158.02 115.342 158.02 101.349 149.941V131.655Z"
                  fill="#ADB9D2"
                  fill-opacity="0.08"
                />
                <path
                  d="M238.528 73.1414C238.528 78.8541 234.518 84.026 228.033 87.7698V106.055C234.518 102.312 238.528 97.1396 238.528 91.4269V73.1414Z"
                  fill="#ADB9D2"
                  fill-opacity="0.08"
                />
                <g data-figma-bg-blur-radius="91.4276">
                  <rect
                    width="146.284"
                    height="146.284"
                    rx="29.2568"
                    transform="matrix(0.866025 0.5 -0.866025 0.5 126.686 0)"
                    fill="#11141A"
                  />
                  <rect
                    width="146.284"
                    height="146.284"
                    rx="29.2568"
                    transform="matrix(0.866025 0.5 -0.866025 0.5 126.686 0)"
                    fill="url(#paint0_linear_379_158)"
                  />
                  <rect
                    width="146.284"
                    height="146.284"
                    rx="29.2568"
                    transform="matrix(0.866025 0.5 -0.866025 0.5 126.686 0)"
                    stroke="url(#paint1_linear_379_158)"
                    stroke-opacity="0.5"
                    stroke-width="2.43463"
                  />
                </g>
              </g>

              {language === "rust" && (
                <g>
                  <path
                    d="M156.548 70.0151L149.181 74.2681L156.548 78.521L163.915 74.2681L156.548 70.0151Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M119.711 91.28L112.344 95.533L119.711 99.7859L127.078 95.533L119.711 91.28Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M112.344 87.0269L104.977 91.2798L112.344 95.533L119.711 91.2798L112.344 87.0269Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M104.975 82.7732L97.6074 87.0261L104.975 91.2791L112.342 87.0261L104.975 82.7732Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M90.2421 74.2676L82.875 78.5205L90.2421 82.7735L97.609 78.5205L90.2421 74.2676Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M104.975 65.762L97.6074 70.0149L104.975 74.2679L112.342 70.0149L104.975 65.762Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M97.609 70.0151L90.2422 74.2681L97.609 78.521L104.976 74.2681L97.609 70.0151Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M149.18 74.2676L141.812 78.5205L149.18 82.7735L156.546 78.5205L149.18 74.2676Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M156.545 61.5088L149.178 65.7617L156.545 70.0149L163.912 65.7617L156.545 61.5088Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M141.81 61.5088L134.443 65.7617L141.81 70.0149L149.178 65.7617L141.81 61.5088Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M127.078 61.5088L119.711 65.7617L127.078 70.0149L134.445 65.7617L127.078 61.5088Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M97.609 78.5212L90.2422 82.7742L97.609 87.0274L104.976 82.7742L97.609 78.5212Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M127.078 53.0032L119.711 57.2561L127.078 61.5093L134.445 57.2561L127.078 53.0032Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M134.445 48.75L127.078 53.003L134.445 57.2559L141.812 53.003L134.445 48.75Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M134.445 82.7744L127.078 87.0274L134.445 91.2803L141.812 87.0274L134.445 82.7744Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M127.076 78.5212L119.709 82.7742L127.076 87.0274L134.443 82.7742L127.076 78.5212Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M112.344 78.5212L104.977 82.7742L112.344 87.0274L119.711 82.7742L112.344 78.5212Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M112.344 70.0151L104.977 74.2681L112.344 78.521L119.711 74.2681L112.344 70.0151Z"
                    fill="#FFAD66"
                  />
                </g>
              )}

              {language === "anchor" && (
                <g>
                  <path
                    d="M152.58 72.8575L143.96 77.8337L152.58 82.81L161.2 77.8337L152.58 72.8575Z"
                    fill="#DDEAE0"
                  />
                  <path
                    d="M135.339 82.8099L126.719 87.7861L135.339 92.7624L143.958 87.7861L135.339 82.8099Z"
                    fill="#DDEAE0"
                  />
                  <path
                    d="M135.339 72.8575L126.719 77.8337L135.339 82.81L143.958 77.8337L135.339 72.8575Z"
                    fill="#DDEAE0"
                  />
                  <path
                    d="M126.719 67.8814L118.1 72.8577L126.719 77.8339L135.339 72.8577L126.719 67.8814Z"
                    fill="#DDEAE0"
                  />
                  <path
                    d="M118.1 62.9051L109.48 67.8813L118.1 72.8576L126.72 67.8813L118.1 62.9051Z"
                    fill="#DDEAE0"
                  />
                  <path
                    d="M100.861 62.9051L92.2412 67.8813L100.861 72.8576L109.481 67.8813L100.861 62.9051Z"
                    fill="#DDEAE0"
                  />
                  <path
                    d="M118.1 52.9522L109.48 57.9285L118.1 62.9047L126.72 57.9285L118.1 52.9522Z"
                    fill="#DDEAE0"
                  />
                  <path
                    d="M100.859 52.9522L92.2393 57.9285L100.859 62.9047L109.479 57.9285L100.859 52.9522Z"
                    fill="#DDEAE0"
                  />
                  <path
                    d="M118.1 82.8099L109.48 87.7861L118.1 92.7624L126.72 87.7861L118.1 82.8099Z"
                    fill="#DDEAE0"
                  />
                  <path
                    d="M152.578 62.9051L143.958 67.8813L152.578 72.8576L161.198 67.8813L152.578 62.9051Z"
                    fill="#DDEAE0"
                  />
                </g>
              )}

              {language === "typescript" && (
                <g>
                  <path
                    d="M156.795 70.0139L149.428 74.2669L156.795 78.5198L164.162 74.2669L156.795 70.0139Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M127.326 87.0264L119.959 91.2793L127.326 95.5323L134.693 91.2793L127.326 87.0264Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M119.961 82.7732L112.594 87.0261L119.961 91.2791L127.328 87.0261L119.961 82.7732Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M112.594 78.5208L105.227 82.7737L112.594 87.0261L119.961 82.7732L112.594 78.5208Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M90.4941 74.2688L83.127 78.5218L90.4941 82.7747L97.8609 78.5218L90.4941 74.2688Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M105.226 65.762L97.8594 70.0149L105.226 74.2679L112.594 70.0149L105.226 65.762Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M97.8594 70.0149L90.4922 74.2681L97.859 78.521L105.226 74.2679L97.8594 70.0149Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M149.43 74.2671L142.062 78.52L149.43 82.773L156.797 78.52L149.43 74.2671Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M156.795 61.5083L149.428 65.7613L156.795 70.0139L164.162 65.7613L156.795 61.5083Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M142.06 61.5083L134.693 65.7613L142.06 70.0142L149.428 65.7613L142.06 61.5083Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M127.328 61.5083L119.961 65.7613L127.328 70.0142L134.695 65.7613L127.328 61.5083Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M105.226 74.2679L97.859 78.521L105.227 82.7737L112.594 78.5208L105.226 74.2679Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M127.328 53.0032L119.961 57.2561L127.328 61.5093L134.695 57.2561L127.328 53.0032Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M134.695 48.75L127.328 53.0032L134.695 57.2561L142.062 53.003L134.695 48.75Z"
                    fill="#69A2F1"
                  />
                </g>
              )}

              {language === "assembly" && (
                <g width="254" height="156" viewBox="0 0 254 156" fill="none">
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 72 84.9966)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 78.9307 88.9963)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 78.9307 80.9971)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 85.8594 76.9973)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 85.8594 76.9973)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 85.8594 76.9973)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 148.211 49)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 134.355 56.9993)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 168.997 60.9995)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 162.068 56.9993)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 155.14 68.9988)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 148.211 64.999)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 155.14 52.9995)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 141.282 60.9995)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 141.282 45.0002)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 141.282 52.9995)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 127.427 52.9995)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 127.427 84.9966)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 134.355 80.9971)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 134.355 72.9978)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 120.498 72.9978)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 106.641 72.9978)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 113.572 60.9995)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 106.641 64.999)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 99.7148 100.996)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 113.572 92.9958)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 106.641 88.9963)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 92.7861 88.9963)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 92.7861 96.9961)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 85.8594 92.9958)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 99.7148 84.9966)"
                    fill="#8CFF66"
                  />
                  <rect
                    width="7.99967"
                    height="7.99967"
                    transform="matrix(0.866044 -0.499967 0.866044 0.499967 92.7861 80.9971)"
                    fill="#8CFF66"
                  />
                </g>
              )}

              {language === "general" && (
                <svg
                  width="254"
                  height="156"
                  viewBox="0 0 254 156"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M130.806 91.9966L122.838 96.5963L114.87 91.9966L122.838 87.3969L130.806 91.9966Z"
                    fill="#00FFFF"
                  />
                  <path
                    d="M154.708 78.1976L146.74 82.7973L138.772 78.1976L146.74 73.5979L154.708 78.1976Z"
                    fill="#00FFFF"
                  />
                  <path
                    d="M130.805 82.7973L122.838 87.3969L114.87 82.7972L122.838 78.1976L130.805 82.7973Z"
                    fill="#00FFFF"
                  />
                  <path
                    d="M154.708 68.9982L146.74 73.5979L138.772 68.9982L146.74 64.3985L154.708 68.9982Z"
                    fill="#00FFFF"
                  />
                  <path
                    d="M130.805 73.5979L122.838 78.1976L114.87 73.5981L122.838 68.9984L130.805 73.5979Z"
                    fill="#00FFFF"
                  />
                  <path
                    d="M154.707 59.799L146.74 64.3985L138.772 59.799L146.74 55.1993L154.707 59.799Z"
                    fill="#00FFFF"
                  />
                  <path
                    d="M114.87 73.5981L106.903 78.1976L98.9355 73.5979L106.903 68.9984L114.87 73.5981Z"
                    fill="#00FFFF"
                  />
                  <path
                    d="M138.772 59.799L130.805 64.3985L122.838 59.799L130.805 55.1993L138.772 59.799Z"
                    fill="#00FFFF"
                  />
                  <path
                    d="M98.9355 73.5979L90.9679 78.1976L83.0003 73.5979L90.9679 68.9982L98.9355 73.5979Z"
                    fill="#00FFFF"
                  />
                  <path
                    d="M122.838 59.799L114.87 64.3987L106.902 59.799L114.87 55.1993L122.838 59.799Z"
                    fill="#00FFFF"
                  />
                </svg>
              )}

              <defs>
                <filter
                  id="filter0_d_379_158"
                  x="3.60055"
                  y="7.70825"
                  width="246.17"
                  height="167.792"
                  filterUnits="userSpaceOnUse"
                  color-interpolation-filters="sRGB"
                >
                  <feFlood flood-opacity="0" result="BackgroundImageFix" />
                  <feColorMatrix
                    in="SourceAlpha"
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    result="hardAlpha"
                  />
                  <feOffset dy="9.75003" />
                  <feGaussianBlur stdDeviation="4.87502" />
                  <feComposite in2="hardAlpha" operator="out" />
                  <feColorMatrix
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                  />
                  <feBlend
                    mode="normal"
                    in2="BackgroundImageFix"
                    result="effect1_dropShadow_379_158"
                  />
                  <feBlend
                    mode="normal"
                    in="SourceGraphic"
                    in2="effect1_dropShadow_379_158"
                    result="shape"
                  />
                </filter>
                <g data-figma-bg-blur-radius="91.4276"></g>
                <clipPath
                  id="bgblur_0_379_158_clip_path"
                  transform="translate(78.077 83.7193)"
                >
                  <rect
                    width="146.284"
                    height="146.284"
                    rx="29.2568"
                    transform="matrix(0.866025 0.5 -0.866025 0.5 126.686 0)"
                  />
                </clipPath>
                <linearGradient
                  id="paint0_linear_379_158"
                  x1="73.2108"
                  y1="-73.2108"
                  x2="73.1421"
                  y2="146.284"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stop-color={getLanguageColor(1)} stop-opacity="0.08" />
                  <stop offset="1" stop-color={getLanguageColor(0)} />
                </linearGradient>
                <linearGradient
                  id="paint1_linear_379_158"
                  x1="6.71845"
                  y1="6.30007"
                  x2="134.717"
                  y2="6.30008"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stop-color={getLanguageColor(1)} />
                  <stop offset="1" stop-color={getLanguageColor(1)} />
                </linearGradient>
              </defs>
            </svg>
            {/* Language Label */}
            <div
              style={{
                display: "flex",
                flexDirection: "column",
                alignItems: "flex-start",
                justifyContent: "space-between",
                rowGap: "16px",
              }}
            >
              {language === "rust" && (
                <svg
                  width="77"
                  height="25"
                  viewBox="0 0 77 25"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M7.424 13.888H3.68V23.232C3.68 23.424 3.616 23.584 3.488 23.712C3.36 23.84 3.2 23.904 3.008 23.904H0.672C0.48 23.904 0.32 23.84 0.192 23.712C0.064 23.584 0 23.424 0 23.232V1.152C0 0.96 0.064 0.8 0.192 0.671999C0.32 0.543999 0.48 0.48 0.672 0.48H11.072C11.9253 0.48 12.6933 0.618666 13.376 0.896C14.08 1.152 14.6773 1.536 15.168 2.048C15.68 2.53867 16.064 3.136 16.32 3.84C16.5973 4.52267 16.736 5.29067 16.736 6.144V8.352C16.736 10.016 16.2453 11.3387 15.264 12.32C14.2827 13.3013 12.9813 13.824 11.36 13.888L17.056 23.904H13.76C13.568 23.904 13.376 23.8507 13.184 23.744C13.0133 23.616 12.8747 23.4667 12.768 23.296L7.424 13.888ZM3.68 4V10.368H11.072C11.6907 10.368 12.1707 10.1867 12.512 9.824C12.8747 9.46133 13.056 8.97067 13.056 8.352V6.016C13.056 5.39733 12.8747 4.90667 12.512 4.544C12.1707 4.18133 11.6907 4 11.072 4H3.68Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M23.3295 0.351999C23.5215 0.351999 23.6815 0.416 23.8095 0.544001C23.9375 0.672 24.0015 0.832 24.0015 1.024V17.952C24.0015 18.7627 24.2362 19.4133 24.7055 19.904C25.1962 20.3733 25.8362 20.608 26.6255 20.608H30.7535C31.5642 20.608 32.2042 20.3733 32.6735 19.904C33.1642 19.4133 33.4095 18.7627 33.4095 17.952V1.024C33.4095 0.832 33.4628 0.672 33.5695 0.544001C33.6975 0.416 33.8682 0.351999 34.0815 0.351999H36.3855C36.5988 0.351999 36.7588 0.416 36.8655 0.544001C36.9935 0.672 37.0575 0.832 37.0575 1.024V17.856C37.0575 18.7947 36.9082 19.648 36.6095 20.416C36.3108 21.184 35.8842 21.8453 35.3295 22.4C34.7748 22.9547 34.1135 23.3813 33.3455 23.68C32.5775 23.9787 31.7242 24.128 30.7855 24.128H26.5935C25.6548 24.128 24.8015 23.9787 24.0335 23.68C23.2655 23.3813 22.6042 22.9547 22.0495 22.4C21.4948 21.8453 21.0682 21.184 20.7695 20.416C20.4708 19.648 20.3215 18.7947 20.3215 17.856V1.024C20.3215 0.832 20.3855 0.672 20.5135 0.544001C20.6415 0.416 20.8122 0.351999 21.0255 0.351999H23.3295Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M54.0443 6.176C54.0443 5.36533 53.7989 4.72533 53.3083 4.256C52.8389 3.76533 52.2096 3.52 51.4202 3.52H47.4202C46.6309 3.52 45.9909 3.76533 45.5002 4.256C45.0309 4.72533 44.7962 5.36533 44.7962 6.176V7.232C44.7962 7.72267 44.9349 8.16 45.2122 8.544C45.4896 8.928 45.8629 9.19467 46.3322 9.344L53.9803 11.616C55.1536 11.9573 56.0922 12.5973 56.7962 13.536C57.5002 14.4747 57.8522 15.552 57.8522 16.768V17.824C57.8522 18.7627 57.7029 19.616 57.4043 20.384C57.1056 21.152 56.6789 21.8133 56.1242 22.368C55.5696 22.9227 54.9083 23.3493 54.1403 23.648C53.3723 23.9467 52.5189 24.096 51.5802 24.096H47.5482C46.6096 24.096 45.7456 23.9467 44.9562 23.648C44.1882 23.3493 43.5269 22.9227 42.9722 22.368C42.4389 21.8133 42.0229 21.152 41.7242 20.384C41.4256 19.616 41.2762 18.7627 41.2762 17.824V16.864C41.2762 16.5013 41.4469 16.32 41.7882 16.32H44.3802C44.7429 16.32 44.9242 16.5013 44.9242 16.864V17.952C44.9242 18.7413 45.1589 19.3813 45.6283 19.872C46.1189 20.3413 46.7696 20.576 47.5802 20.576H51.5482C52.3589 20.576 52.9989 20.3413 53.4683 19.872C53.9376 19.3813 54.1722 18.7413 54.1722 17.952V16.896C54.1722 16.4053 54.0336 15.968 53.7562 15.584C53.4789 15.2 53.1056 14.9333 52.6362 14.784L44.9883 12.512C43.8149 12.1707 42.8762 11.5307 42.1722 10.592C41.4682 9.65333 41.1162 8.576 41.1162 7.36V6.272C41.1162 5.33333 41.2656 4.48 41.5642 3.712C41.8629 2.944 42.2896 2.28267 42.8442 1.728C43.3989 1.17333 44.0603 0.746667 44.8283 0.448C45.5963 0.149333 46.4496 0 47.3882 0H51.4202C52.3589 0 53.2123 0.149333 53.9803 0.448C54.7696 0.746667 55.4309 1.17333 55.9642 1.728C56.5189 2.28267 56.9456 2.944 57.2443 3.712C57.5429 4.48 57.6922 5.33333 57.6922 6.272V7.2C57.6922 7.54133 57.5216 7.712 57.1802 7.712H54.5882C54.2256 7.712 54.0443 7.54133 54.0443 7.2V6.176Z"
                    fill="#FFAD66"
                  />
                  <path
                    d="M59.9792 1.152C59.9792 0.96 60.0326 0.8 60.1392 0.671999C60.2672 0.543999 60.4379 0.48 60.6512 0.48H76.0433C76.2566 0.48 76.4166 0.543999 76.5232 0.671999C76.6512 0.8 76.7152 0.96 76.7152 1.152V3.328C76.7152 3.776 76.4913 4 76.0433 4H70.1872V23.232C70.1872 23.424 70.1232 23.584 69.9952 23.712C69.8886 23.84 69.7286 23.904 69.5153 23.904H67.2113C66.9979 23.904 66.8272 23.84 66.6992 23.712C66.5926 23.584 66.5392 23.424 66.5392 23.232V4H60.6512C60.2032 4 59.9792 3.776 59.9792 3.328V1.152Z"
                    fill="#FFAD66"
                  />
                </svg>
              )}

              {language === "anchor" && (
                <svg
                  width="122"
                  height="25"
                  viewBox="0 0 122 25"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M17.3125 24.0001H14.1125C13.9418 24.0001 13.7925 23.9575 13.6645 23.8721C13.5578 23.7655 13.4831 23.6268 13.4405 23.4561L12.4485 19.8081H5.37647L4.38447 23.4561C4.3418 23.6268 4.25647 23.7655 4.12847 23.8721C4.0218 23.9575 3.88314 24.0001 3.71247 24.0001H0.480469L6.97647 1.21612C7.0618 0.874788 7.27514 0.704121 7.61647 0.704121H10.2085C10.5498 0.704121 10.7738 0.874788 10.8805 1.21612L17.3125 24.0001ZM11.4885 16.3201L8.92847 6.91212L6.33647 16.3201H11.4885Z"
                    fill="#DDEAE0"
                  />
                  <path
                    d="M20.437 1.24812C20.437 1.05612 20.501 0.896121 20.629 0.768122C20.757 0.640121 20.917 0.57612 21.109 0.57612H23.317C23.637 0.57612 23.893 0.725454 24.085 1.02412L33.493 16.6081V1.24812C33.493 1.05612 33.557 0.896121 33.685 0.768122C33.813 0.640121 33.9836 0.57612 34.197 0.57612H36.501C36.693 0.57612 36.853 0.640121 36.981 0.768122C37.109 0.896121 37.173 1.05612 37.173 1.24812V23.4561C37.173 23.6481 37.109 23.8081 36.981 23.9361C36.853 24.0641 36.693 24.1281 36.501 24.1281H34.325C33.9836 24.1281 33.717 23.9788 33.525 23.6801L24.117 8.09612V23.4561C24.117 23.6481 24.053 23.8081 23.925 23.9361C23.797 24.0641 23.637 24.1281 23.445 24.1281H21.109C20.917 24.1281 20.757 24.0641 20.629 23.9361C20.501 23.8081 20.437 23.6481 20.437 23.4561V1.24812Z"
                    fill="#DDEAE0"
                  />
                  <path
                    d="M58.2757 18.0481C58.2757 18.9868 58.1264 19.8401 57.8277 20.6081C57.5291 21.3761 57.1024 22.0375 56.5477 22.5921C55.9931 23.1468 55.3317 23.5735 54.5637 23.8721C53.7957 24.1708 52.9424 24.3201 52.0037 24.3201H47.8117C46.8731 24.3201 46.0197 24.1708 45.2517 23.8721C44.4837 23.5735 43.8224 23.1468 43.2677 22.5921C42.7131 22.0375 42.2864 21.3761 41.9877 20.6081C41.689 19.8401 41.5397 18.9868 41.5397 18.0481V6.49612C41.5397 5.55745 41.689 4.70412 41.9877 3.93612C42.2864 3.16812 42.7131 2.50679 43.2677 1.95212C43.8224 1.39745 44.4837 0.970788 45.2517 0.672121C46.0197 0.373454 46.8731 0.224121 47.8117 0.224121H52.0037C52.9424 0.224121 53.7957 0.373454 54.5637 0.672121C55.3317 0.970788 55.9931 1.39745 56.5477 1.95212C57.1024 2.50679 57.5291 3.16812 57.8277 3.93612C58.1264 4.70412 58.2757 5.55745 58.2757 6.49612V7.48812C58.2757 7.78679 58.1264 7.93612 57.8277 7.93612H55.0757C54.7771 7.93612 54.6277 7.78679 54.6277 7.48812V6.40012C54.6277 5.58946 54.3824 4.94946 53.8917 4.48012C53.4224 3.98945 52.7824 3.74412 51.9717 3.74412H47.8437C47.0544 3.74412 46.4144 3.98945 45.9237 4.48012C45.4544 4.94946 45.2197 5.58946 45.2197 6.40012V18.1761C45.2197 18.9655 45.4544 19.6055 45.9237 20.0961C46.4144 20.5655 47.0544 20.8001 47.8437 20.8001H51.9717C52.7824 20.8001 53.4224 20.5655 53.8917 20.0961C54.3824 19.6055 54.6277 18.9655 54.6277 18.1761V17.0241C54.6277 16.7041 54.7771 16.5441 55.0757 16.5441H57.8277C58.1264 16.5441 58.2757 16.7041 58.2757 17.0241V18.0481Z"
                    fill="#DDEAE0"
                  />
                  <path
                    d="M62.6545 1.18412C62.6545 0.778787 62.8571 0.57612 63.2625 0.57612H65.7265C66.1318 0.57612 66.3345 0.778787 66.3345 1.18412V10.5921H75.7105V1.18412C75.7105 0.778787 75.9131 0.57612 76.3185 0.57612H78.7825C79.1878 0.57612 79.3905 0.778787 79.3905 1.18412V23.5201C79.3905 23.9255 79.1878 24.1281 78.7825 24.1281H76.3185C75.9131 24.1281 75.7105 23.9255 75.7105 23.5201V14.1121H66.3345V23.5201C66.3345 23.9255 66.1318 24.1281 65.7265 24.1281H63.2625C62.8571 24.1281 62.6545 23.9255 62.6545 23.5201V1.18412Z"
                    fill="#DDEAE0"
                  />
                  <path
                    d="M83.7572 6.49612C83.7572 5.55745 83.9065 4.70412 84.2052 3.93612C84.5039 3.16812 84.9305 2.50679 85.4852 1.95212C86.0399 1.39745 86.7012 0.970788 87.4692 0.672121C88.2372 0.373454 89.0905 0.224121 90.0292 0.224121H94.2212C95.1599 0.224121 96.0132 0.373454 96.7812 0.672121C97.5492 0.970788 98.2105 1.39745 98.7652 1.95212C99.3199 2.50679 99.7466 3.16812 100.045 3.93612C100.344 4.70412 100.493 5.55745 100.493 6.49612V18.0481C100.493 18.9868 100.344 19.8401 100.045 20.6081C99.7466 21.3761 99.3199 22.0375 98.7652 22.5921C98.2105 23.1468 97.5492 23.5735 96.7812 23.8721C96.0132 24.1708 95.1599 24.3201 94.2212 24.3201H90.0292C89.0905 24.3201 88.2372 24.1708 87.4692 23.8721C86.7012 23.5735 86.0399 23.1468 85.4852 22.5921C84.9305 22.0375 84.5039 21.3761 84.2052 20.6081C83.9065 19.8401 83.7572 18.9868 83.7572 18.0481V6.49612ZM94.1892 20.8001C94.9999 20.8001 95.6399 20.5655 96.1092 20.0961C96.5999 19.6055 96.8452 18.9655 96.8452 18.1761V6.40012C96.8452 5.58946 96.5999 4.94946 96.1092 4.48012C95.6399 3.98945 94.9999 3.74412 94.1892 3.74412H90.0612C89.2719 3.74412 88.6319 3.98945 88.1412 4.48012C87.6719 4.94946 87.4372 5.58946 87.4372 6.40012V18.1761C87.4372 18.9655 87.6719 19.6055 88.1412 20.0961C88.6319 20.5655 89.2719 20.8001 90.0612 20.8001H94.1892Z"
                    fill="#DDEAE0"
                  />
                  <path
                    d="M121.608 23.4241C121.608 23.8721 121.384 24.0961 120.936 24.0961H118.632C118.184 24.0961 117.96 23.8721 117.96 23.4241V20.7361L113 14.1121H108.552V23.4561C108.552 23.6481 108.488 23.8081 108.36 23.9361C108.232 24.0641 108.072 24.1281 107.88 24.1281H105.544C105.352 24.1281 105.192 24.0641 105.064 23.9361C104.936 23.8081 104.872 23.6481 104.872 23.4561V1.37612C104.872 1.18412 104.936 1.02412 105.064 0.89612C105.192 0.76812 105.352 0.704121 105.544 0.704121H115.944C116.797 0.704121 117.565 0.842787 118.248 1.12012C118.952 1.37612 119.549 1.76012 120.04 2.27212C120.552 2.76279 120.936 3.36012 121.192 4.06412C121.469 4.74679 121.608 5.51479 121.608 6.36812V8.57612C121.608 10.0481 121.213 11.2641 120.424 12.2241C119.656 13.1628 118.611 13.7495 117.288 13.9841L121.32 19.3601C121.512 19.6161 121.608 19.9148 121.608 20.2561V23.4241ZM108.552 4.22412V10.5921H115.944C116.563 10.5921 117.043 10.4108 117.384 10.0481C117.747 9.68545 117.928 9.19479 117.928 8.57612V6.24012C117.928 5.62145 117.747 5.13079 117.384 4.76812C117.043 4.40545 116.563 4.22412 115.944 4.22412H108.552Z"
                    fill="#DDEAE0"
                  />
                </svg>
              )}

              {language === "typescript" && (
                <svg
                  width="199"
                  height="25"
                  viewBox="0 0 199 25"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M0.511719 1.37612C0.511719 1.18412 0.565052 1.02412 0.671719 0.89612C0.799719 0.76812 0.970385 0.704121 1.18372 0.704121H16.5757C16.7891 0.704121 16.9491 0.76812 17.0557 0.89612C17.1837 1.02412 17.2477 1.18412 17.2477 1.37612V3.55212C17.2477 4.00012 17.0237 4.22412 16.5757 4.22412H10.7197V23.4561C10.7197 23.6481 10.6557 23.8081 10.5277 23.9361C10.4211 24.0641 10.2611 24.1281 10.0477 24.1281H7.74372C7.53039 24.1281 7.35972 24.0641 7.23172 23.9361C7.12505 23.8081 7.07172 23.6481 7.07172 23.4561V4.22412H1.18372C0.735719 4.22412 0.511719 4.00012 0.511719 3.55212V1.37612Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M35.7977 4.44812C35.7977 4.74679 35.7017 5.04546 35.5097 5.34412L29.2377 13.9521V23.4561C29.2377 23.6481 29.1737 23.8081 29.0457 23.9361C28.9391 24.0641 28.7791 24.1281 28.5657 24.1281H26.2617C26.0484 24.1281 25.8777 24.0641 25.7497 23.9361C25.6431 23.8081 25.5897 23.6481 25.5897 23.4561V13.9201L19.3177 5.34412C19.1257 5.04546 19.0297 4.74679 19.0297 4.44812V1.34412C19.0297 0.896121 19.2644 0.672121 19.7337 0.672121H22.0377C22.2297 0.672121 22.3897 0.736121 22.5177 0.86412C22.6457 0.970787 22.7097 1.13079 22.7097 1.34412V3.96812L27.4137 10.5281L32.1177 3.96812V1.34412C32.1177 1.13079 32.1817 0.970787 32.3097 0.86412C32.4377 0.736121 32.5977 0.672121 32.7897 0.672121H35.0937C35.5631 0.672121 35.7977 0.896121 35.7977 1.34412V4.44812Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M50.117 0.704121C50.9703 0.704121 51.7383 0.842787 52.421 1.12012C53.125 1.37612 53.7223 1.76012 54.213 2.27212C54.725 2.76279 55.109 3.36012 55.365 4.06412C55.6423 4.74679 55.781 5.51479 55.781 6.36812V8.57612C55.781 10.2828 55.2583 11.6375 54.213 12.6401C53.189 13.6215 51.8236 14.1121 50.117 14.1121H42.725V23.4561C42.725 23.6481 42.661 23.8081 42.533 23.9361C42.405 24.0641 42.245 24.1281 42.053 24.1281H39.717C39.525 24.1281 39.365 24.0641 39.237 23.9361C39.109 23.8081 39.045 23.6481 39.045 23.4561V1.37612C39.045 1.18412 39.109 1.02412 39.237 0.89612C39.365 0.76812 39.525 0.704121 39.717 0.704121H50.117ZM42.725 4.22412V10.5921H50.117C50.7356 10.5921 51.2156 10.4108 51.557 10.0481C51.9196 9.68545 52.101 9.19479 52.101 8.57612V6.24012C52.101 5.62145 51.9196 5.13079 51.557 4.76812C51.2156 4.40545 50.7356 4.22412 50.117 4.22412H42.725Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M76.188 0.704121C76.38 0.704121 76.54 0.76812 76.668 0.89612C76.796 1.02412 76.86 1.18412 76.86 1.37612V3.55212C76.86 3.76545 76.796 3.93612 76.668 4.06412C76.54 4.17079 76.38 4.22412 76.188 4.22412H63.74V10.6241H75.548C75.74 10.6241 75.9 10.6881 76.028 10.8161C76.156 10.9228 76.22 11.0828 76.22 11.2961V13.4081C76.22 13.6215 76.156 13.7921 76.028 13.9201C75.9 14.0268 75.74 14.0801 75.548 14.0801H63.74V20.4801H76.188C76.38 20.4801 76.54 20.5441 76.668 20.6721C76.796 20.7788 76.86 20.9388 76.86 21.1521V23.3281C76.86 23.5415 76.796 23.7121 76.668 23.8401C76.54 23.9468 76.38 24.0001 76.188 24.0001H60.732C60.54 24.0001 60.38 23.9468 60.252 23.8401C60.124 23.7121 60.06 23.5415 60.06 23.3281V1.37612C60.06 1.18412 60.124 1.02412 60.252 0.89612C60.38 0.76812 60.54 0.704121 60.732 0.704121H76.188Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M94.0892 6.40012C94.0892 5.58946 93.8439 4.94946 93.3532 4.48012C92.8839 3.98945 92.2546 3.74412 91.4652 3.74412H87.4652C86.6759 3.74412 86.0359 3.98945 85.5452 4.48012C85.0759 4.94946 84.8412 5.58946 84.8412 6.40012V7.45612C84.8412 7.94679 84.9799 8.38412 85.2572 8.76812C85.5346 9.15212 85.9079 9.41879 86.3772 9.56812L94.0252 11.8401C95.1985 12.1815 96.1372 12.8215 96.8412 13.7601C97.5452 14.6988 97.8972 15.7761 97.8972 16.9921V18.0481C97.8972 18.9868 97.7479 19.8401 97.4492 20.6081C97.1506 21.3761 96.7239 22.0375 96.1692 22.5921C95.6146 23.1468 94.9532 23.5735 94.1852 23.8721C93.4172 24.1708 92.5639 24.3201 91.6252 24.3201H87.5932C86.6545 24.3201 85.7905 24.1708 85.0012 23.8721C84.2332 23.5735 83.5719 23.1468 83.0172 22.5921C82.4839 22.0375 82.0679 21.3761 81.7692 20.6081C81.4706 19.8401 81.3212 18.9868 81.3212 18.0481V17.0881C81.3212 16.7255 81.4919 16.5441 81.8332 16.5441H84.4252C84.7879 16.5441 84.9692 16.7255 84.9692 17.0881V18.1761C84.9692 18.9655 85.2039 19.6055 85.6732 20.0961C86.1639 20.5655 86.8145 20.8001 87.6252 20.8001H91.5932C92.4039 20.8001 93.0439 20.5655 93.5132 20.0961C93.9825 19.6055 94.2172 18.9655 94.2172 18.1761V17.1201C94.2172 16.6295 94.0785 16.1921 93.8012 15.8081C93.5239 15.4241 93.1506 15.1575 92.6812 15.0081L85.0332 12.7361C83.8599 12.3948 82.9212 11.7548 82.2172 10.8161C81.5132 9.87745 81.1612 8.80012 81.1612 7.58412V6.49612C81.1612 5.55745 81.3105 4.70412 81.6092 3.93612C81.9079 3.16812 82.3345 2.50679 82.8892 1.95212C83.4439 1.39745 84.1052 0.970788 84.8732 0.672121C85.6412 0.373454 86.4946 0.224121 87.4332 0.224121H91.4652C92.4039 0.224121 93.2572 0.373454 94.0252 0.672121C94.8145 0.970788 95.4759 1.39745 96.0092 1.95212C96.5639 2.50679 96.9905 3.16812 97.2892 3.93612C97.5879 4.70412 97.7372 5.55745 97.7372 6.49612V7.42412C97.7372 7.76545 97.5666 7.93612 97.2252 7.93612H94.6332C94.2706 7.93612 94.0892 7.76545 94.0892 7.42412V6.40012Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M118.664 18.0481C118.664 18.9868 118.514 19.8401 118.216 20.6081C117.917 21.3761 117.49 22.0375 116.936 22.5921C116.381 23.1468 115.72 23.5735 114.952 23.8721C114.184 24.1708 113.33 24.3201 112.392 24.3201H108.2C107.261 24.3201 106.408 24.1708 105.64 23.8721C104.872 23.5735 104.21 23.1468 103.656 22.5921C103.101 22.0375 102.674 21.3761 102.376 20.6081C102.077 19.8401 101.928 18.9868 101.928 18.0481V6.49612C101.928 5.55745 102.077 4.70412 102.376 3.93612C102.674 3.16812 103.101 2.50679 103.656 1.95212C104.21 1.39745 104.872 0.970788 105.64 0.672121C106.408 0.373454 107.261 0.224121 108.2 0.224121H112.392C113.33 0.224121 114.184 0.373454 114.952 0.672121C115.72 0.970788 116.381 1.39745 116.936 1.95212C117.49 2.50679 117.917 3.16812 118.216 3.93612C118.514 4.70412 118.664 5.55745 118.664 6.49612V7.48812C118.664 7.78679 118.514 7.93612 118.216 7.93612H115.464C115.165 7.93612 115.016 7.78679 115.016 7.48812V6.40012C115.016 5.58946 114.77 4.94946 114.28 4.48012C113.81 3.98945 113.17 3.74412 112.36 3.74412H108.232C107.442 3.74412 106.802 3.98945 106.312 4.48012C105.842 4.94946 105.608 5.58946 105.608 6.40012V18.1761C105.608 18.9655 105.842 19.6055 106.312 20.0961C106.802 20.5655 107.442 20.8001 108.232 20.8001H112.36C113.17 20.8001 113.81 20.5655 114.28 20.0961C114.77 19.6055 115.016 18.9655 115.016 18.1761V17.0241C115.016 16.7041 115.165 16.5441 115.464 16.5441H118.216C118.514 16.5441 118.664 16.7041 118.664 17.0241V18.0481Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M139.778 23.4241C139.778 23.8721 139.554 24.0961 139.106 24.0961H136.802C136.354 24.0961 136.13 23.8721 136.13 23.4241V20.7361L131.17 14.1121H126.722V23.4561C126.722 23.6481 126.658 23.8081 126.53 23.9361C126.402 24.0641 126.242 24.1281 126.05 24.1281H123.714C123.522 24.1281 123.362 24.0641 123.234 23.9361C123.106 23.8081 123.042 23.6481 123.042 23.4561V1.37612C123.042 1.18412 123.106 1.02412 123.234 0.89612C123.362 0.76812 123.522 0.704121 123.714 0.704121H134.114C134.968 0.704121 135.736 0.842787 136.418 1.12012C137.122 1.37612 137.72 1.76012 138.21 2.27212C138.722 2.76279 139.106 3.36012 139.362 4.06412C139.64 4.74679 139.778 5.51479 139.778 6.36812V8.57612C139.778 10.0481 139.384 11.2641 138.594 12.2241C137.826 13.1628 136.781 13.7495 135.458 13.9841L139.49 19.3601C139.682 19.6161 139.778 19.9148 139.778 20.2561V23.4241ZM126.722 4.22412V10.5921H134.114C134.733 10.5921 135.213 10.4108 135.554 10.0481C135.917 9.68545 136.098 9.19479 136.098 8.57612V6.24012C136.098 5.62145 135.917 5.13079 135.554 4.76812C135.213 4.40545 134.733 4.22412 134.114 4.22412H126.722Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M149.084 20.4801V4.22412H143.164C142.716 4.22412 142.492 4.00012 142.492 3.55212V1.37612C142.492 1.18412 142.545 1.02412 142.652 0.89612C142.78 0.76812 142.95 0.704121 143.164 0.704121H158.588C158.801 0.704121 158.972 0.76812 159.1 0.89612C159.228 1.02412 159.292 1.18412 159.292 1.37612V3.55212C159.292 4.00012 159.057 4.22412 158.588 4.22412H152.732V20.4801H158.588C159.057 20.4801 159.292 20.7041 159.292 21.1521V23.3281C159.292 23.7761 159.057 24.0001 158.588 24.0001H143.164C142.716 24.0001 142.492 23.7761 142.492 23.3281V21.1521C142.492 20.7041 142.716 20.4801 143.164 20.4801H149.084Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M173.457 0.704121C174.31 0.704121 175.078 0.842787 175.761 1.12012C176.465 1.37612 177.062 1.76012 177.553 2.27212C178.065 2.76279 178.449 3.36012 178.705 4.06412C178.982 4.74679 179.121 5.51479 179.121 6.36812V8.57612C179.121 10.2828 178.598 11.6375 177.553 12.6401C176.529 13.6215 175.164 14.1121 173.457 14.1121H166.065V23.4561C166.065 23.6481 166.001 23.8081 165.873 23.9361C165.745 24.0641 165.585 24.1281 165.393 24.1281H163.057C162.865 24.1281 162.705 24.0641 162.577 23.9361C162.449 23.8081 162.385 23.6481 162.385 23.4561V1.37612C162.385 1.18412 162.449 1.02412 162.577 0.89612C162.705 0.76812 162.865 0.704121 163.057 0.704121H173.457ZM166.065 4.22412V10.5921H173.457C174.076 10.5921 174.556 10.4108 174.897 10.0481C175.26 9.68545 175.441 9.19479 175.441 8.57612V6.24012C175.441 5.62145 175.26 5.13079 174.897 4.76812C174.556 4.40545 174.076 4.22412 173.457 4.22412H166.065Z"
                    fill="#69A2F1"
                  />
                  <path
                    d="M181.74 1.37612C181.74 1.18412 181.794 1.02412 181.9 0.89612C182.028 0.76812 182.199 0.704121 182.412 0.704121H197.804C198.018 0.704121 198.178 0.76812 198.284 0.89612C198.412 1.02412 198.476 1.18412 198.476 1.37612V3.55212C198.476 4.00012 198.252 4.22412 197.804 4.22412H191.948V23.4561C191.948 23.6481 191.884 23.8081 191.756 23.9361C191.65 24.0641 191.49 24.1281 191.276 24.1281H188.972C188.759 24.1281 188.588 24.0641 188.46 23.9361C188.354 23.8081 188.3 23.6481 188.3 23.4561V4.22412H182.412C181.964 4.22412 181.74 4.00012 181.74 3.55212V1.37612Z"
                    fill="#69A2F1"
                  />
                </svg>
              )}

              {language === "assembly" && (
                <svg
                  width="158"
                  height="25"
                  viewBox="0 0 158 25"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M17.312 24.0001H14.112C13.9413 24.0001 13.792 23.9575 13.664 23.8721C13.5573 23.7655 13.4826 23.6268 13.44 23.4561L12.448 19.8081H5.37598L4.38398 23.4561C4.34131 23.6268 4.25598 23.7655 4.12798 23.8721C4.02131 23.9575 3.88265 24.0001 3.71198 24.0001H0.47998L6.97598 1.21612C7.06131 0.874788 7.27465 0.704121 7.61598 0.704121H10.208C10.5493 0.704121 10.7733 0.874788 10.88 1.21612L17.312 24.0001ZM11.488 16.3201L8.92798 6.91212L6.33598 16.3201H11.488Z"
                    fill="#8CFF66"
                  />
                  <path
                    d="M32.4507 6.40012C32.4507 5.58946 32.2054 4.94946 31.7147 4.48012C31.2454 3.98945 30.6161 3.74412 29.8267 3.74412H25.8267C25.0374 3.74412 24.3974 3.98945 23.9067 4.48012C23.4374 4.94946 23.2027 5.58946 23.2027 6.40012V7.45612C23.2027 7.94679 23.3414 8.38412 23.6187 8.76812C23.8961 9.15212 24.2694 9.41879 24.7387 9.56812L32.3867 11.8401C33.5601 12.1815 34.4987 12.8215 35.2027 13.7601C35.9067 14.6988 36.2587 15.7761 36.2587 16.9921V18.0481C36.2587 18.9868 36.1094 19.8401 35.8107 20.6081C35.5121 21.3761 35.0854 22.0375 34.5307 22.5921C33.9761 23.1468 33.3147 23.5735 32.5467 23.8721C31.7787 24.1708 30.9254 24.3201 29.9867 24.3201H25.9547C25.0161 24.3201 24.1521 24.1708 23.3627 23.8721C22.5947 23.5735 21.9334 23.1468 21.3787 22.5921C20.8454 22.0375 20.4294 21.3761 20.1307 20.6081C19.8321 19.8401 19.6827 18.9868 19.6827 18.0481V17.0881C19.6827 16.7255 19.8534 16.5441 20.1947 16.5441H22.7867C23.1494 16.5441 23.3307 16.7255 23.3307 17.0881V18.1761C23.3307 18.9655 23.5654 19.6055 24.0347 20.0961C24.5254 20.5655 25.1761 20.8001 25.9867 20.8001H29.9547C30.7654 20.8001 31.4054 20.5655 31.8747 20.0961C32.3441 19.6055 32.5787 18.9655 32.5787 18.1761V17.1201C32.5787 16.6295 32.4401 16.1921 32.1627 15.8081C31.8854 15.4241 31.5121 15.1575 31.0427 15.0081L23.3947 12.7361C22.2214 12.3948 21.2827 11.7548 20.5787 10.8161C19.8747 9.87745 19.5227 8.80012 19.5227 7.58412V6.49612C19.5227 5.55745 19.6721 4.70412 19.9707 3.93612C20.2694 3.16812 20.6961 2.50679 21.2507 1.95212C21.8054 1.39745 22.4667 0.970788 23.2347 0.672121C24.0027 0.373454 24.8561 0.224121 25.7947 0.224121H29.8267C30.7654 0.224121 31.6187 0.373454 32.3867 0.672121C33.1761 0.970788 33.8374 1.39745 34.3707 1.95212C34.9254 2.50679 35.3521 3.16812 35.6507 3.93612C35.9494 4.70412 36.0987 5.55745 36.0987 6.49612V7.42412C36.0987 7.76545 35.9281 7.93612 35.5867 7.93612H32.9947C32.6321 7.93612 32.4507 7.76545 32.4507 7.42412V6.40012Z"
                    fill="#8CFF66"
                  />
                  <path
                    d="M53.1532 6.40012C53.1532 5.58946 52.9079 4.94946 52.4172 4.48012C51.9479 3.98945 51.3186 3.74412 50.5292 3.74412H46.5292C45.7399 3.74412 45.0999 3.98945 44.6092 4.48012C44.1399 4.94946 43.9052 5.58946 43.9052 6.40012V7.45612C43.9052 7.94679 44.0439 8.38412 44.3212 8.76812C44.5986 9.15212 44.9719 9.41879 45.4412 9.56812L53.0892 11.8401C54.2626 12.1815 55.2012 12.8215 55.9052 13.7601C56.6092 14.6988 56.9612 15.7761 56.9612 16.9921V18.0481C56.9612 18.9868 56.8119 19.8401 56.5132 20.6081C56.2146 21.3761 55.7879 22.0375 55.2332 22.5921C54.6786 23.1468 54.0172 23.5735 53.2492 23.8721C52.4812 24.1708 51.6279 24.3201 50.6892 24.3201H46.6572C45.7186 24.3201 44.8546 24.1708 44.0652 23.8721C43.2972 23.5735 42.6359 23.1468 42.0812 22.5921C41.5479 22.0375 41.1319 21.3761 40.8332 20.6081C40.5346 19.8401 40.3852 18.9868 40.3852 18.0481V17.0881C40.3852 16.7255 40.5559 16.5441 40.8972 16.5441H43.4892C43.8519 16.5441 44.0332 16.7255 44.0332 17.0881V18.1761C44.0332 18.9655 44.2679 19.6055 44.7372 20.0961C45.2279 20.5655 45.8786 20.8001 46.6892 20.8001H50.6572C51.4679 20.8001 52.1079 20.5655 52.5772 20.0961C53.0466 19.6055 53.2812 18.9655 53.2812 18.1761V17.1201C53.2812 16.6295 53.1426 16.1921 52.8652 15.8081C52.5879 15.4241 52.2146 15.1575 51.7452 15.0081L44.0972 12.7361C42.9239 12.3948 41.9852 11.7548 41.2812 10.8161C40.5772 9.87745 40.2252 8.80012 40.2252 7.58412V6.49612C40.2252 5.55745 40.3746 4.70412 40.6732 3.93612C40.9719 3.16812 41.3986 2.50679 41.9532 1.95212C42.5079 1.39745 43.1692 0.970788 43.9372 0.672121C44.7052 0.373454 45.5586 0.224121 46.4972 0.224121H50.5292C51.4679 0.224121 52.3212 0.373454 53.0892 0.672121C53.8786 0.970788 54.5399 1.39745 55.0732 1.95212C55.6279 2.50679 56.0546 3.16812 56.3532 3.93612C56.6519 4.70412 56.8012 5.55745 56.8012 6.49612V7.42412C56.8012 7.76545 56.6306 7.93612 56.2892 7.93612H53.6972C53.3346 7.93612 53.1532 7.76545 53.1532 7.42412V6.40012Z"
                    fill="#8CFF66"
                  />
                  <path
                    d="M77.3757 0.704121C77.5677 0.704121 77.7277 0.76812 77.8557 0.89612C77.9837 1.02412 78.0477 1.18412 78.0477 1.37612V3.55212C78.0477 3.76545 77.9837 3.93612 77.8557 4.06412C77.7277 4.17079 77.5677 4.22412 77.3757 4.22412H64.9277V10.6241H76.7357C76.9277 10.6241 77.0877 10.6881 77.2157 10.8161C77.3437 10.9228 77.4077 11.0828 77.4077 11.2961V13.4081C77.4077 13.6215 77.3437 13.7921 77.2157 13.9201C77.0877 14.0268 76.9277 14.0801 76.7357 14.0801H64.9277V20.4801H77.3757C77.5677 20.4801 77.7277 20.5441 77.8557 20.6721C77.9837 20.7788 78.0477 20.9388 78.0477 21.1521V23.3281C78.0477 23.5415 77.9837 23.7121 77.8557 23.8401C77.7277 23.9468 77.5677 24.0001 77.3757 24.0001H61.9197C61.7277 24.0001 61.5677 23.9468 61.4397 23.8401C61.3117 23.7121 61.2477 23.5415 61.2477 23.3281V1.37612C61.2477 1.18412 61.3117 1.02412 61.4397 0.89612C61.5677 0.76812 61.7277 0.704121 61.9197 0.704121H77.3757Z"
                    fill="#8CFF66"
                  />
                  <path
                    d="M86.349 7.93612V23.4561C86.349 23.6481 86.285 23.8081 86.157 23.9361C86.029 24.0641 85.869 24.1281 85.677 24.1281H83.341C83.149 24.1281 82.989 24.0641 82.861 23.9361C82.733 23.8081 82.669 23.6481 82.669 23.4561V1.24812C82.669 1.05612 82.733 0.896121 82.861 0.768122C82.989 0.640121 83.149 0.57612 83.341 0.57612H85.549C85.8903 0.57612 86.1356 0.725454 86.285 1.02412L91.053 9.63212L95.789 1.02412C95.9383 0.725454 96.1836 0.57612 96.525 0.57612H98.733C98.925 0.57612 99.085 0.640121 99.213 0.768122C99.341 0.896121 99.405 1.05612 99.405 1.24812V23.4561C99.405 23.6481 99.341 23.8081 99.213 23.9361C99.085 24.0641 98.925 24.1281 98.733 24.1281H96.429C96.2156 24.1281 96.045 24.0641 95.917 23.9361C95.789 23.8081 95.725 23.6481 95.725 23.4561V7.96812L92.205 14.2081C92.0983 14.4428 91.9063 14.5601 91.629 14.5601H90.445C90.2103 14.5601 90.0183 14.4428 89.869 14.2081L86.349 7.93612Z"
                    fill="#8CFF66"
                  />
                  <path
                    d="M115.548 0.704121C117.084 0.704121 118.31 1.17345 119.228 2.11212C120.145 3.02945 120.604 4.25612 120.604 5.79212V7.96812C120.604 8.97079 120.401 9.84545 119.996 10.5921C119.612 11.3175 119.068 11.8935 118.364 12.3201C119.11 12.7468 119.697 13.3335 120.124 14.0801C120.55 14.8268 120.764 15.7121 120.764 16.7361V18.9441C120.764 20.4801 120.305 21.7068 119.388 22.6241C118.47 23.5415 117.244 24.0001 115.708 24.0001H104.7C104.508 24.0001 104.348 23.9468 104.22 23.8401C104.092 23.7121 104.028 23.5415 104.028 23.3281V1.37612C104.028 1.18412 104.092 1.02412 104.22 0.89612C104.348 0.76812 104.508 0.704121 104.7 0.704121H115.548ZM114.972 10.5921C115.569 10.5921 116.049 10.4215 116.412 10.0801C116.774 9.71745 116.956 9.22679 116.956 8.60812V6.24012C116.956 5.62145 116.774 5.13079 116.412 4.76812C116.049 4.40545 115.569 4.22412 114.972 4.22412H107.708V10.5921H114.972ZM115.1 20.4801C115.718 20.4801 116.198 20.2988 116.54 19.9361C116.902 19.5735 117.084 19.0935 117.084 18.4961V16.1281C117.084 15.5095 116.902 15.0295 116.54 14.6881C116.198 14.3255 115.718 14.1441 115.1 14.1441H107.708V20.4801H115.1Z"
                    fill="#8CFF66"
                  />
                  <path
                    d="M124.98 1.24812C124.98 1.05612 125.044 0.896121 125.172 0.768122C125.3 0.640121 125.46 0.57612 125.652 0.57612H127.988C128.18 0.57612 128.34 0.640121 128.468 0.768122C128.596 0.896121 128.66 1.05612 128.66 1.24812V20.4801H141.108C141.3 20.4801 141.46 20.5441 141.588 20.6721C141.716 20.7788 141.78 20.9388 141.78 21.1521V23.3281C141.78 23.5415 141.716 23.7121 141.588 23.8401C141.46 23.9468 141.3 24.0001 141.108 24.0001H125.652C125.46 24.0001 125.3 23.9468 125.172 23.8401C125.044 23.7121 124.98 23.5415 124.98 23.3281V1.24812Z"
                    fill="#8CFF66"
                  />
                  <path
                    d="M157.638 4.44812C157.638 4.74679 157.542 5.04546 157.35 5.34412L151.078 13.9521V23.4561C151.078 23.6481 151.014 23.8081 150.886 23.9361C150.779 24.0641 150.619 24.1281 150.406 24.1281H148.102C147.889 24.1281 147.718 24.0641 147.59 23.9361C147.483 23.8081 147.43 23.6481 147.43 23.4561V13.9201L141.158 5.34412C140.966 5.04546 140.87 4.74679 140.87 4.44812V1.34412C140.87 0.896121 141.105 0.672121 141.574 0.672121H143.878C144.07 0.672121 144.23 0.736121 144.358 0.86412C144.486 0.970787 144.55 1.13079 144.55 1.34412V3.96812L149.254 10.5281L153.958 3.96812V1.34412C153.958 1.13079 154.022 0.970787 154.15 0.86412C154.278 0.736121 154.438 0.672121 154.63 0.672121H156.934C157.403 0.672121 157.638 0.896121 157.638 1.34412V4.44812Z"
                    fill="#8CFF66"
                  />
                </svg>
              )}

              {language === "general" && (
                <svg
                  width="160"
                  height="28"
                  viewBox="0 0 160 28"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M19.7721 20.304C19.7721 21.36 19.6041 22.32 19.2681 23.184C18.9321 24.048 18.4521 24.792 17.8281 25.416C17.2041 26.04 16.4601 26.52 15.5961 26.856C14.7321 27.192 13.7721 27.36 12.7161 27.36H8.00009C6.94409 27.36 5.98409 27.192 5.12009 26.856C4.25609 26.52 3.51209 26.04 2.88809 25.416C2.26409 24.792 1.78409 24.048 1.44809 23.184C1.11209 22.32 0.944092 21.36 0.944092 20.304V7.30801C0.944092 6.25201 1.11209 5.29201 1.44809 4.42801C1.78409 3.56401 2.26409 2.82001 2.88809 2.19601C3.51209 1.57201 4.25609 1.09201 5.12009 0.756014C5.98409 0.420014 6.94409 0.252014 8.00009 0.252014H12.7161C13.7721 0.252014 14.7321 0.420014 15.5961 0.756014C16.4601 1.09201 17.2041 1.57201 17.8281 2.19601C18.4521 2.82001 18.9321 3.56401 19.2681 4.42801C19.6041 5.29201 19.7721 6.25201 19.7721 7.30801V8.42401C19.7721 8.76001 19.6041 8.92801 19.2681 8.92801H16.1721C15.8361 8.92801 15.6681 8.76001 15.6681 8.42401V7.20002C15.6681 6.28802 15.3921 5.56802 14.8401 5.04001C14.3121 4.48801 13.5921 4.21201 12.6801 4.21201H8.03609C7.14809 4.21201 6.42809 4.48801 5.87609 5.04001C5.34809 5.56802 5.08409 6.28802 5.08409 7.20002V20.448C5.08409 21.336 5.34809 22.056 5.87609 22.608C6.42809 23.136 7.14809 23.4 8.03609 23.4H12.6801C13.5921 23.4 14.3121 23.136 14.8401 22.608C15.3921 22.056 15.6681 21.336 15.6681 20.448V16.092H10.9521C10.7121 16.092 10.5201 16.02 10.3761 15.876C10.2321 15.732 10.1601 15.552 10.1601 15.336V12.888C10.1601 12.384 10.4241 12.132 10.9521 12.132H19.0161C19.5201 12.132 19.7721 12.384 19.7721 12.888V20.304Z"
                    fill="#00FFFF"
                  />
                  <path
                    d="M42.8422 0.792014C43.0582 0.792014 43.2382 0.864013 43.3822 1.00801C43.5262 1.15201 43.5982 1.33201 43.5982 1.54801V3.99601C43.5982 4.23601 43.5262 4.42801 43.3822 4.57201C43.2382 4.69201 43.0582 4.75201 42.8422 4.75201H28.8382V11.952H42.1222C42.3382 11.952 42.5182 12.024 42.6622 12.168C42.8062 12.288 42.8782 12.468 42.8782 12.708V15.084C42.8782 15.324 42.8062 15.516 42.6622 15.66C42.5182 15.78 42.3382 15.84 42.1222 15.84H28.8382V23.04H42.8422C43.0582 23.04 43.2382 23.112 43.3822 23.256C43.5262 23.376 43.5982 23.556 43.5982 23.796V26.244C43.5982 26.484 43.5262 26.676 43.3822 26.82C43.2382 26.94 43.0582 27 42.8422 27H25.4542C25.2382 27 25.0582 26.94 24.9142 26.82C24.7702 26.676 24.6982 26.484 24.6982 26.244V1.54801C24.6982 1.33201 24.7702 1.15201 24.9142 1.00801C25.0582 0.864013 25.2382 0.792014 25.4542 0.792014H42.8422Z"
                    fill="#00FFFF"
                  />
                  <path
                    d="M48.7971 1.40401C48.7971 1.18801 48.8691 1.00801 49.0131 0.864015C49.1571 0.720014 49.3371 0.648013 49.5531 0.648013H52.0371C52.3971 0.648013 52.6851 0.816013 52.9011 1.15201L63.4851 18.684V1.40401C63.4851 1.18801 63.5571 1.00801 63.7011 0.864015C63.8451 0.720014 64.0371 0.648013 64.2771 0.648013H66.8691C67.0851 0.648013 67.2651 0.720014 67.4091 0.864015C67.5531 1.00801 67.6251 1.18801 67.6251 1.40401V26.388C67.6251 26.604 67.5531 26.784 67.4091 26.928C67.2651 27.072 67.0851 27.144 66.8691 27.144H64.4211C64.0371 27.144 63.7371 26.976 63.5211 26.64L52.9371 9.10802V26.388C52.9371 26.604 52.8651 26.784 52.7211 26.928C52.5771 27.072 52.3971 27.144 52.1811 27.144H49.5531C49.3371 27.144 49.1571 27.072 49.0131 26.928C48.8691 26.784 48.7971 26.604 48.7971 26.388V1.40401Z"
                    fill="#00FFFF"
                  />
                  <path
                    d="M90.9697 0.792014C91.1857 0.792014 91.3657 0.864013 91.5097 1.00801C91.6537 1.15201 91.7257 1.33201 91.7257 1.54801V3.99601C91.7257 4.23601 91.6537 4.42801 91.5097 4.57201C91.3657 4.69201 91.1857 4.75201 90.9697 4.75201H76.9657V11.952H90.2497C90.4657 11.952 90.6457 12.024 90.7897 12.168C90.9337 12.288 91.0057 12.468 91.0057 12.708V15.084C91.0057 15.324 90.9337 15.516 90.7897 15.66C90.6457 15.78 90.4657 15.84 90.2497 15.84H76.9657V23.04H90.9697C91.1857 23.04 91.3657 23.112 91.5097 23.256C91.6537 23.376 91.7257 23.556 91.7257 23.796V26.244C91.7257 26.484 91.6537 26.676 91.5097 26.82C91.3657 26.94 91.1857 27 90.9697 27H73.5817C73.3657 27 73.1857 26.94 73.0417 26.82C72.8977 26.676 72.8257 26.484 72.8257 26.244V1.54801C72.8257 1.33201 72.8977 1.15201 73.0417 1.00801C73.1857 0.864013 73.3657 0.792014 73.5817 0.792014H90.9697Z"
                    fill="#00FFFF"
                  />
                  <path
                    d="M105.277 15.876H101.065V26.388C101.065 26.604 100.993 26.784 100.849 26.928C100.705 27.072 100.525 27.144 100.309 27.144H97.6806C97.4646 27.144 97.2846 27.072 97.1406 26.928C96.9966 26.784 96.9246 26.604 96.9246 26.388V1.54801C96.9246 1.33201 96.9966 1.15201 97.1406 1.00801C97.2846 0.864013 97.4646 0.792014 97.6806 0.792014H109.381C110.341 0.792014 111.205 0.948014 111.973 1.26001C112.765 1.54801 113.437 1.98001 113.989 2.55601C114.565 3.10801 114.997 3.78001 115.285 4.57201C115.597 5.34001 115.753 6.20401 115.753 7.16402V9.64801C115.753 11.52 115.201 13.008 114.097 14.112C112.993 15.216 111.529 15.804 109.705 15.876L116.113 27.144H112.405C112.189 27.144 111.973 27.084 111.757 26.964C111.565 26.82 111.409 26.652 111.289 26.46L105.277 15.876ZM101.065 4.75201V11.916H109.381C110.077 11.916 110.617 11.712 111.001 11.304C111.409 10.896 111.613 10.344 111.613 9.64801V7.02001C111.613 6.32401 111.409 5.77201 111.001 5.36401C110.617 4.95601 110.077 4.75201 109.381 4.75201H101.065Z"
                    fill="#00FFFF"
                  />
                  <path
                    d="M137.318 27H133.718C133.526 27 133.358 26.952 133.214 26.856C133.094 26.736 133.01 26.58 132.962 26.388L131.846 22.284H123.89L122.774 26.388C122.726 26.58 122.63 26.736 122.486 26.856C122.366 26.952 122.21 27 122.018 27H118.382L125.69 1.36801C125.786 0.984014 126.026 0.792014 126.41 0.792014H129.326C129.71 0.792014 129.962 0.984014 130.082 1.36801L137.318 27ZM130.766 18.36L127.886 7.77601L124.97 18.36H130.766Z"
                    fill="#00FFFF"
                  />
                  <path
                    d="M140.833 1.40401C140.833 1.18801 140.905 1.00801 141.049 0.864015C141.193 0.720014 141.373 0.648013 141.589 0.648013H144.217C144.433 0.648013 144.613 0.720014 144.757 0.864015C144.901 1.00801 144.973 1.18801 144.973 1.40401V23.04H158.977C159.193 23.04 159.373 23.112 159.517 23.256C159.661 23.376 159.733 23.556 159.733 23.796V26.244C159.733 26.484 159.661 26.676 159.517 26.82C159.373 26.94 159.193 27 158.977 27H141.589C141.373 27 141.193 26.94 141.049 26.82C140.905 26.676 140.833 26.484 140.833 26.244V1.40401Z"
                    fill="#00FFFF"
                  />
                </svg>
              )}
              <div
                style={{
                  fontSize: 56,
                  color: "#EFF1F6",
                  fontFamily: "Funnel Display",
                  fontWeight: 500,
                }}
              >
                {title}
              </div>
            </div>
          </div>
          {/* Crosshair */}
          <svg
            width="1153"
            height="582"
            viewBox="0 0 1153 582"
            fill="none"
            style={{
              position: "absolute",
              top: 24,
              left: 24,
              zIndex: 1,
            }}
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M0 582L7.49333e-07 576.286L19.9998 576.286L19.9998 582L0 582Z"
              fill={getLanguageColor(1)}
            />
            <path
              d="M0 562L5.71424 562L5.71424 576.286L7.49333e-07 576.286L0 562Z"
              fill={getLanguageColor(1)}
            />
            <path d="M0 0H5.71429V20H0V0Z" fill={getLanguageColor(1)} />
            <path
              d="M20.0001 0V5.71429L5.71437 5.71429L5.71429 0L20.0001 0Z"
              fill={getLanguageColor(1)}
            />
            <path
              d="M1152.6 8.74228e-07V5.71429L1132.6 5.71429L1132.6 0L1152.6 8.74228e-07Z"
              fill={getLanguageColor(1)}
            />
            <path
              d="M1152.6 20L1146.89 20L1146.89 5.71429L1152.6 5.71429L1152.6 20Z"
              fill={getLanguageColor(1)}
            />
            <path
              d="M1152.6 581.6H1146.89L1146.89 561.6L1152.6 561.6L1152.6 581.6Z"
              fill={getLanguageColor(1)}
            />
            <path
              d="M1132.6 581.6L1132.6 575.886L1146.89 575.886L1146.89 581.6L1132.6 581.6Z"
              fill={getLanguageColor(1)}
            />
          </svg>
        </div>
      ),
      imageResponseOptions
    );

    const contentType =
      imageResponse.headers.get("content-type") || "image/png";
    const buffer = await imageResponse.arrayBuffer();

    return {
      data: buffer,
      contentType,
      width: imageResponseOptions.width,
      height: imageResponseOptions.height,
    };
  } catch (e: any) {
    console.error(
      `[BannerGenerator] Failed to generate banner for ${itemSlug}${lessonSlug ? "/" + lessonSlug : ""}: ${e.message}`
    );
    return null;
  }
};

async function loadGoogleFont(font: string, text: string) {
  const url = `https://fonts.googleapis.com/css2?family=${font}:wght@500&text=${encodeURIComponent(text)}`;
  const css = await (await fetch(url)).text();
  const resource = css.match(
    /src: url\((.+)\) format\('(opentype|truetype)'\)/
  );

  if (resource) {
    const response = await fetch(resource[1]);
    if (response.status == 200) {
      return await response.arrayBuffer();
    }
  }

  throw new Error("failed to load font data");
}
